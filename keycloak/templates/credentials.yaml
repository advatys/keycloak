---
# The Admin Credentials need to match those used/created by the new Keycloak Operator
apiVersion: v1
kind: Secret
metadata:
  name: credential-{{ .Release.Name }}
  annotations:
    "redhat-cop.redhat.io/patch": |
      data:
        ADMIN_USERNAME: {{ "{{" }} (lookup "v1" "Secret" "{{ .Release.Namespace }}" "{{ .Release.Name }}-initial-admin").data.username {{ "}}" }}
        ADMIN_PASSWORD: {{ "{{" }} (lookup "v1" "Secret" "{{ .Release.Namespace }}" "{{ .Release.Name }}-initial-admin").data.password {{ "}}" }}
type: Opaque
data:
  ADMIN_USERNAME: << username >>
  ADMIN_PASSWORD: << password >>
