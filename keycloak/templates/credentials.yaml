---
# The Admin Credentials need to match those used/created by the new Keycloak Operator
apiVersion: v1
kind: Secret
metadata:
  name: credential-{{ .Release.Name }}
  annotations:
    "redhat-cop.redhat.io/patch": |
      stringData:
        ADMIN_USERNAME: {{ (lookup "v1" "Secret" "{{ .Release.Namespace }}" "{{ .Release.Name }}-initial-admin").data.username | b64dec }}
        ADMIN_PASSWORD: {{ (lookup "v1" "Secret" "{{ .Release.Namespace }}" "{{ .Release.Name }}-initial-admin").data.password | b64dec }}
type: Opaque
stringData:
  ADMIN_USERNAME: << username >>
  ADMIN_PASSWORD: << password >>
